<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>도우미</title>
        <link rel="stylesheet" href="./styles.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap">
        <style>
            /* 중요: 할 일 목록 섹션 강제로 숨김 처리 */
            #todo-section {
                display: none !important;
            }
            #todo-section.active {
                display: flex !important;
            }
        </style>
    </head>
<body>
    <div class="app-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="app-logo">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 16V8.00002C20.9996 7.6493 20.9071 7.30483 20.7315 7.00119C20.556 6.69754 20.3037 6.44539 20 6.27002L13 2.27002C12.696 2.09449 12.3511 2.00208 12 2.00208C11.6489 2.00208 11.304 2.09449 11 2.27002L4 6.27002C3.69626 6.44539 3.44398 6.69754 3.26846 7.00119C3.09294 7.30483 3.00036 7.6493 3 8.00002V16C3.00036 16.3508 3.09294 16.6952 3.26846 16.9989C3.44398 17.3025 3.69626 17.5547 4 17.73L11 21.73C11.304 21.9056 11.6489 21.998 12 21.998C12.3511 21.998 12.696 21.9056 13 21.73L20 17.73C20.3037 17.5547 20.556 17.3025 20.7315 16.9989C20.9071 16.6952 20.9996 16.3508 21 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3.27002 7.00002L12 12L20.73 7.00002" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 22V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h1>도우미</h1>
            </div>

            <div class="sidebar-status">
                <div class="status-indicator" id="status-indicator"></div>
                <span id="status-text">준비됨</span>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-button active" data-section="main">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    메인 화면
                </button>
                <button class="nav-button" data-section="logs">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                    로그
                </button>
                <button class="nav-button" data-section="todo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                    할 일 목록
                </button>
                <button class="nav-button" data-section="settings">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                    설정
                </button>
            </nav>

            <div class="sidebar-footer">
                <button id="exit-btn" class="exit-button">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    종료
                </button>
                <div class="version-info">v1.0.0</div>
            </div>
        </div>

        <main class="content">
            <!-- 메인 섹션 -->
            <section id="main-section" class="content-section active">
                <div class="timer-card">
                    <h2>남은 시간</h2>
                    <div id="timer-display" class="timer-display">03:00:00</div>
                </div>

                <div class="settings-grid">
                    <!-- 모드 선택 카드 -->
                    <div class="card">
                        <h2>모드 선택</h2>
                        <div class="modes-container">
                            <div class="mode-group">
                                <h3>대야</h3>
                                <div class="mode-options">
                                    <label class="mode-option">
                                        <input type="radio" name="mode" value="1" checked>
                                        <span class="mode-card">
                                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mode-icon">
                                                <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M21 14V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M21 3L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>입장</span>
                                        </span>
                                    </label>
                                    <label class="mode-option">
                                        <input type="radio" name="mode" value="2">
                                        <span class="mode-card">
                                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mode-icon">
                                                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89318 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>파티</span>
                                        </span>
                                    </label>
                                </div>
                            </div>
                            <div class="mode-group">
                                <h3>칸첸</h3>
                                <div class="mode-options">
                                    <label class="mode-option">
                                        <input type="radio" name="mode" value="3">
                                        <span class="mode-card">
                                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mode-icon">
                                                <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M21 14V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M21 3L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>입장</span>
                                        </span>
                                    </label>
                                    <label class="mode-option">
                                        <input type="radio" name="mode" value="4">
                                        <span class="mode-card">
                                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mode-icon">
                                                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89318 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>파티</span>
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 시간 설정 카드 -->
                    <div class="card">
                        <h2>자동 종료 시간</h2>
                        <div class="time-options">
                            <label class="time-option">
                                <input type="radio" name="time" value="0">
                                <span class="time-card">
                                    <span class="time-value">1</span>
                                    <span class="time-unit">시간</span>
                                </span>
                            </label>
                            <label class="time-option">
                                <input type="radio" name="time" value="1">
                                <span class="time-card">
                                    <span class="time-value">2</span>
                                    <span class="time-unit">시간</span>
                                </span>
                            </label>
                            <label class="time-option">
                                <input type="radio" name="time" value="2" checked>
                                <span class="time-card">
                                    <span class="time-value">3</span>
                                    <span class="time-unit">시간</span>
                                </span>
                            </label>
                            <label class="time-option">
                                <input type="radio" name="time" value="3">
                                <span class="time-card">
                                    <span class="time-value">4</span>
                                    <span class="time-unit">시간</span>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- 컨트롤 버튼 -->
                <div class="controls-container">
                    <button id="start-btn" class="control-button start-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                        시작
                    </button>
                    <button id="stop-btn" class="control-button stop-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="6" y="4" width="12" height="16"></rect>
                        </svg>
                        중지
                    </button>
                    <button id="reset-btn" class="control-button reset-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <polyline points="1 20 1 14 7 14"></polyline>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                        </svg>
                        재설정
                    </button>
                </div>

                <!-- 로그 간략 표시 -->
                <div class="mini-log-card">
                    <div id="mini-log" class="mini-log">프로그램이 시작되었습니다.</div>
                </div>
            </section>

            <section id="logs-section" class="content-section">
                <div class="card logs-card">
                    <div class="logs-header">
                        <h2>로그 기록</h2>
                        <div class="logs-actions">
                            <button id="refresh-logs-btn" class="refresh-button">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="23 4 23 10 17 10"></polyline>
                                    <polyline points="1 20 1 14 7 14"></polyline>
                                    <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                                </svg>
                                새로고침
                            </button>
                            <button id="clear-logs-btn" class="clear-button">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                </svg>
                                지우기
                            </button>
                        </div>
                    </div>
                    <div class="logs-content">
                        <div id="logs-container" class="logs-container">
                            <p class="log-placeholder">로그를 불러오는 중...</p>
                        </div>
                    </div>
                </div>

                <div class="card logs-settings-card">
                    <h2>로그 설정</h2>
                    <div class="logs-settings">
                        <div class="settings-item">
                            <label class="switch">
                                <input type="checkbox" id="auto-refresh-toggle" checked>
                                <span class="slider round"></span>
                            </label>
                            <span class="settings-label">자동 새로고침 (10초)</span>
                        </div>
                        <div class="settings-item">
                            <label class="switch">
                                <input type="checkbox" id="show-debug-toggle">
                                <span class="slider round"></span>
                            </label>
                            <span class="settings-label">디버그 메시지 표시</span>
                        </div>
                        <div class="log-filter">
                            <label for="log-filter-input">필터:</label>
                            <input type="text" id="log-filter-input" placeholder="필터링할 텍스트 입력">
                        </div>
                    </div>
                </div>
            </section>

            <!-- TODO 섹션 -->
            <section id="todo-section" class="content-section">
                <div class="card">
                    <h2>
                        할 일 목록
                        <div class="filter-dropdown">
                            <button class="filter-button">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                                </svg>
                                필터
                            </button>
                            <div class="filter-menu">
                                <div class="filter-option active" data-filter="all">모든 할 일</div>
                                <div class="filter-option" data-filter="active">완료되지 않은 할 일</div>
                                <div class="filter-option" data-filter="completed">완료된 할 일</div>
                                <div class="filter-option" data-filter="priority">우선순위 높음</div>
                            </div>
                        </div>
                    </h2>

                    <!-- 카테고리 필터 -->
                    <div class="category-filters">
                        <span class="category-filter active" data-category="all">전체</span>
                        <span class="category-filter" data-category="game">게임</span>
                        <span class="category-filter" data-category="daily">일상</span>
                        <span class="category-filter" data-category="shopping">쇼핑</span>
                    </div>

                    <!-- 할 일 추가 폼 -->
                    <form class="todo-form" id="todo-form">
                        <input type="text" class="todo-input" id="todo-input" placeholder="할 일을 입력하세요">
                        <button type="submit" class="add-button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            추가
                        </button>
                    </form>

                    <!-- 할 일 목록 -->
                    <ul class="todo-list" id="todo-list"></ul>
                </div>

                <!-- TODO 통계 카드 -->
                <div class="card todo-stats-card" id="todo-stats"></div>
            </section>

            <!-- 설정 섹션 -->
            <section id="settings-section" class="content-section">
                <div class="card settings-card">
                    <h2>애플리케이션 설정</h2>
                    <div class="settings-form">
                        <div class="settings-item">
                            <label class="switch">
                                <input type="checkbox" id="dark-mode-toggle" checked>
                                <span class="slider round"></span>
                            </label>
                            <span class="settings-label">다크 모드</span>
                        </div>
                        <div class="settings-item">
                            <label class="switch">
                                <input type="checkbox" id="sound-toggle" checked>
                                <span class="slider round"></span>
                            </label>
                            <span class="settings-label">소리 알림</span>
                        </div>
                        <div class="settings-item">
                            <label class="switch">
                                <input type="checkbox" id="startup-toggle">
                                <span class="slider round"></span>
                            </label>
                            <span class="settings-label">시작 시 자동 실행</span>
                        </div>
                    </div>
                </div>

                <!-- 텔레그램 설정 카드 - 올바른 위치 -->
                <div class="card telegram-settings-card">
                    <h2>📱 텔레그램 알림 설정</h2>
                    <div class="telegram-form">
                        <div class="settings-item">
                            <label class="switch">
                                <input type="checkbox" id="telegram-toggle">
                                <span class="slider round"></span>
                            </label>
                            <span class="settings-label">텔레그램 알림 사용</span>
                        </div>

                        <div class="telegram-config" id="telegram-config" style="display: none;">
                            <div class="form-group">
                                <label for="bot-token">봇 토큰:</label>
                                <input type="password" id="bot-token" placeholder="7903573798:AAGTXj_rk2xMygTee06OVVYlQhxqm95H2CU">
                                <small class="form-help">@BotFather에서 받은 봇 토큰을 입력하세요</small>
                            </div>

                            <div class="form-group">
                                <label for="chat-id">채팅 ID:</label>
                                <input type="text" id="chat-id" placeholder="123456789">
                                <small class="form-help">개인 채팅 ID 또는 그룹 채팅 ID를 입력하세요</small>
                            </div>

                            <div class="telegram-actions">
                                <button id="save-telegram-btn" class="telegram-button save">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                                    </svg>
                                    저장
                                </button>
                                <button id="test-telegram-btn" class="telegram-button test">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M22 2L11 13"></path>
                                        <path d="M22 2L15 22L11 13L2 9L22 2Z"></path>
                                    </svg>
                                    테스트
                                </button>
                            </div>
                        </div>

                        <div class="telegram-help">
                            <h4>🤖 텔레그램 봇 설정 방법:</h4>
                            <ol>
                                <li>텔레그램에서 <code>@BotFather</code>를 검색하여 대화를 시작합니다.</li>
                                <li><code>/newbot</code> 명령을 입력하여 새 봇을 생성합니다.</li>
                                <li>봇 이름과 사용자명을 설정합니다.</li>
                                <li>받은 토큰을 위의 "봇 토큰" 필드에 입력합니다.</li>
                                <li><code>@userinfobot</code>에게 메시지를 보내 채팅 ID를 확인합니다.</li>
                                <li>채팅 ID를 위의 "채팅 ID" 필드에 입력합니다.</li>
                                <li>"저장" 버튼을 클릭한 후 "테스트" 버튼으로 연결을 확인합니다.</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="card about-card">
                    <h2>프로그램 정보</h2>
                    <div class="about-content">
                        <p><strong>도우미</strong></p>
                        <p>버전: <span id="app-version">1.0.0</span></p>
                        <p>제작: minggi</p>
                        <p>빌드 날짜: <span id="build-date">2025-05-16</span></p>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script src="./script.js"></script>
</body>
</html>
